{
    "platform": {
        "@type": "type.vertex.ai/vertexai.tile.local_machine.proto.Platform",
        "hardware_configs": [
            {
                "description": "AMD config",
                "sel": {
                    "or": {
                        "sel": [
                            {
                                "vendor_regex": "AMD"
                            },
                            {
                                "vendor_regex": "Advanced Micro Devices.*"
                            }
                        ]
                    }
                },
                "settings": {
                    "threads": 256,
                    "vec_size": 1,
                    "mem_width": 128,
                    "max_mem": 32768,
                    "max_regs": 16384,
                    "goal_groups": 16,
                    "goal_flops_per_byte": 50,
                    "stripe_config": "amd_opencl"
                }
            },
            {
                "description": "Intel GPU config",
                "sel": {
                    "or": {
                        "sel": [
                            {
                                "name_regex": ".*Iris.*"
                            },
                            {
                                "and": {
                                    "sel": [
                                        {
                                            "name_regex": ".*HD Graphics.*"
                                        },
                                        {
                                            "not": {
                                                "name_regex": ".*Broxton.*"
                                            }
                                        }
                                    ]
                                }
                            }
                        ]
                    }
                },
                "settings": {
                    "threads": 64,
                    "vec_size": 1,
                    "mem_width": 256,
                    "max_mem": 7300,
                    "max_regs": 4000,
                    "goal_groups": 1,
                    "goal_flops_per_byte": 50,
                    "disable_mad": true,
                    "stripe_config": "intel_gen9_opencl",
                    "use_stripe": true
                }
            },
            {
                "description": "Intel GPU config (Broxton)",
                "sel": {
                    "name_regex": ".*HD Graphics Broxton.*"
                },
                "settings": {
                    "threads": 64,
                    "vec_size": 8,
                    "mem_width": 256,
                    "max_mem": 7300,
                    "max_regs": 4000,
                    "goal_groups": 1,
                    "goal_flops_per_byte": 50,
                    "use_global": true
                }
            },
            {
                "description": "Intel GPU config (CM)",
                "sel": {
                    "name_regex": "CM.*"
                },
                "settings": {
                    "threads": 64,
                    "vec_size": 1,
                    "mem_width": 256,
                    "max_mem": 7300,
                    "max_regs": 4000,
                    "goal_groups": 1,
                    "goal_flops_per_byte": 50,
                    "disable_mad": true,
                    "stripe_config": "cm"
                }
            },
            {
                "description": "NVIDIA config",
                "sel": {
                    "vendor_regex": "NVIDIA.*"
                },
                "settings": {
                    "threads": 256,
                    "vec_size": 1,
                    "mem_width": 64,
                    "max_mem": 15360,
                    "max_regs": 32768,
                    "goal_groups": 16,
                    "goal_flops_per_byte": 46,
                    "stripe_config": "nvidia"
                }
            },
            {
                "description": "ARM Mali config",
                "sel": {
                    "and": {
                        "sel": [
                            {
                                "vendor_regex": ".*ARM.*"
                            },
                            {
                                "name_regex": ".*Mali-T760.*"
                            }
                        ]
                    }
                },
                "settings": {
                    "threads": 128,
                    "vec_size": 2,
                    "mem_width": 16,
                    "max_mem": 16000,
                    "max_regs": 16000,
                    "use_global": true,
                    "is_synchronous": true
                }
            },
            {
                "description": "ARM Mali config",
                "sel": {
                    "and": {
                        "sel": [
                            {
                                "vendor_regex": ".*ARM.*"
                            },
                            {
                                "name_regex": ".*Mali-T628.*"
                            }
                        ]
                    }
                },
                "settings": {
                    "threads": 128,
                    "vec_size": 8,
                    "mem_width": 64,
                    "max_mem": 8000,
                    "max_regs": 8000,
                    "use_global": true,
                    "is_synchronous": true
                }
            }
        ]
    }
}